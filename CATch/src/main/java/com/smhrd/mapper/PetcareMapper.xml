<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.smhrd.mapper.PetcareMapper">
    
    	<!-- 펫케어 정보 가져오는 sql문 -->
	<select id="selectPetcareList" resultType="com.smhrd.domain.Petcare">
	    select * from t_petcare
	</select>
	
	<!-- 펫케어 상세정보 가져오는 sql문 -->
	<select id="selectPetcare" resultType="com.smhrd.domain.Petcare">
	    select * from t_petcare
	    where petcare_seq=#{petcare_seq}
	</select>
	
	<!-- 펫케어 리뷰 가져오는 sql문 -->
	<select id="selectPetcareReviewList" resultType="com.smhrd.domain.PetcareReview">
	    select * from t_petcare_review
	    where review_petcare = #{petcare_seq}
	    order by review_date desc
	</select>
	
	<!-- 펫케어 리뷰 등록하는 sql문 -->
	<insert id="insertReview" parameterType="com.smhrd.domain.PetcareReview">
	    insert into t_petcare_review(review_id, review_content, review_petcare, review_star, review_date)
	    values(#{review_id}, #{review_content}, #{review_petcare}, #{review_star}, now())
	</insert>
	
	
	<!-- 펫케어 업체가 고객 방문기록을 조회하는 sql문 -->
    <select id="selectPetcareAdmin" resultType="com.smhrd.domain.PetcareAdmin">
        select * from t_petcare_admin
        where admin_id = #{admin_id}
        order by admin_date desc
    </select>
    
    <!-- 펫케어 업체가 고객 방문기록을 등록하는 sql문 -->
    <insert id="insertPetcareAdmin" parameterType="com.smhrd.domain.PetcareAdmin">
        insert into t_petcare_admin(admin_name, admin_cate, admin_catcard, admin_date, admin_content, admin_id)
        values(#{admin_name}, #{admin_cate}, #{admin_catcard}, now(), #{admin_content}, #{admin_id})
        
    </insert>
    
</mapper>